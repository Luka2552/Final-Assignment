window.onload=function(){document.querySelectorAll('span[class*="placeholder"][innerHTML*="*"]').forEach(function(e){e.classList.add("asterisk")})};const inputElements=document.querySelectorAll(".section8-filter");function openModal(e){let t=document.getElementById("overlay"),n=document.getElementById("customModal"),l=document.getElementById("modalContent");t.style.display="block",l.innerHTML=e,n.style.display="block"}function closeAlert(){let e=document.getElementById("overlay"),t=document.getElementById("customModal");e.style.display="none",t.style.display="none"}function emailCheck(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function urlChecker(e){return/^(ftp|http|https):\/\/[^ "]+$/.test(e)}function section8Form(){let e=document.getElementById("name").value,t=document.getElementById("email").value,n=document.getElementById("website").value,l=document.getElementById("message").value;if(!e||!t||!n||!l){openModal("ყველაფერი შეავსეთ!");return}if(!emailCheck(t)){openModal("სწორი იმეილი შეიყვანეთ!");return}if(!urlChecker(n)){openModal("სწორი ვებსაიტი შეიყვანეთ!");return}let o=new XMLHttpRequest;o.open("POST","https://borjomi.loremipsum.ge/api/send-message"),o.setRequestHeader("Content-Type","application/json; charset=UTF-8");let s=JSON.stringify({name:e,email:t,website:n,message:l});o.onload=function(){if(4==o.readyState&&200==o.status){let e=JSON.parse(o.responseText);1===e.status?openModal("გამოვიდა გაგზავნა!"):openModal("არ გამოვიდა გაგზავნა! თავიდან ცადეთ.")}},o.send(s)}inputElements.forEach(function(e){e.addEventListener("input",function(){let e=this.nextElementSibling;""!==this.value.trim()?e.style.display="none":e.style.display="inline-block"})});